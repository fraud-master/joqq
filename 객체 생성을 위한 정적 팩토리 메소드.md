# 자바 static of 메소드 패턴

Static factory method 패턴 중 하나인 'of' 메소드는 객체 생성을 위한 정적 팩토리 메소드로, 생성자 대신 객체 인스턴스를 생성하는 방법입니다.

## 주요 특징

1. **가독성 향상**: 생성자보다 의미있는 이름을 가질 수 있어 코드의 가독성이 좋아집니다.
2. **매개변수 유연성**: 동일한 타입의 여러 매개변수를 받는 생성자와 달리 명확한 구분이 가능합니다.
3. **인스턴스 재사용**: 불필요한 객체 생성을 피하고 캐싱을 통해 같은 인스턴스를 재사용할 수 있습니다.
4. **하위 자료형 객체 반환**: 반환 타입의 하위 타입 객체를 반환할 수 있어 유연성이 높아집니다.

## 예시 코드

```java
public class OrderItem {
    private final String productId;
    private final int quantity;
    private final BigDecimal price;
    
    // private 생성자 - 외부에서 직접 호출 방지
    private OrderItem(String productId, int quantity, BigDecimal price) {
        this.productId = productId;
        this.quantity = quantity;
        this.price = price;
    }
    
    // static factory method
    public static OrderItem of(String productId, int quantity, BigDecimal price) {
        // 유효성 검사 등의 로직을 추가할 수 있음
        if (quantity <= 0) {
            throw new IllegalArgumentException("수량은 0보다 커야 합니다");
        }
        if (price.compareTo(BigDecimal.ZERO) < 0) {
            throw new IllegalArgumentException("가격은 음수일 수 없습니다");
        }
        return new OrderItem(productId, quantity, price);
    }
}
```

## 사용 예시

```java
// 생성자 대신 of 메소드 사용
OrderItem item = OrderItem.of("PRODUCT-123", 2, new BigDecimal("15000"));
```

## Java 표준 라이브러리 예시

Java 표준 라이브러리에서도 이 패턴이 많이 사용됩니다:

```java
// LocalDate 생성
LocalDate date = LocalDate.of(2023, 10, 25);

// Set 생성
Set<String> keywords = Set.of("java", "static", "factory", "method");

// List 생성
List<Integer> numbers = List.of(1, 2, 3, 4, 5);
```

## 장점

1. 명시적인 이름을 통해 생성 의도가 명확해집니다.
2. 매번 새로운 객체를 생성하지 않아도 됩니다.
3. 반환 타입을 유연하게 선택할 수 있습니다.
4. 생성할 객체의 클래스가 존재하지 않아도 됩니다.
5. 복잡한 생성 로직을 숨기고 간결한 API를 제공합니다.

이 패턴은 특히 불변 객체를 생성할 때 많이 사용되며, 코드의 가독성과 유지보수성을 높이는 데 기여합니다.
